<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&display=swap" rel="stylesheet">

    <!-- Tailwind play cdn for this challenge ( for development and play purposes ) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script src="./src/tailwind.config.js"></script>

    <!-- Alpine Plugins -->
    <script defer src="https://unpkg.com/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script>

    <!-- Alpine Core -->
    <script defer src="https://unpkg.com/alpinejs@latest/dist/cdn.min.js"></script>

    <title>Frontend Mentor | Contact form</title>
</head>
<body x-data="contactForm()" class="antialiased min-h-screen bg-green-light px-4 py-8">
  <main class="bg-white rounded-2xl p-6 md:max-w-[736px] md:mx-auto md:my-24 md:p-10">
      <form
          method="post"
          class="text-gray-dark grid gap-y-[25px] md:grid-cols-2 md:gap-x-4"
      >
          <h1 class="text-3xl font-bold pb-1 md:col-span-2">Contact Us</h1>

          <label class="grid content-start gap-2">
              <span class=" after:content-['*'] after:ml-2 after:text-green">First Name</span>
              <input
                  x-model="firstname"
                  x-on:input="validate('firstname')"
                  x-on:blur="validate('firstname')"
                  type="text"
                  class="border rounded-md bg-white px-6 py-2.5 text-lg cursor-pointer hover:border-green focus:outline-none focus:border-green focus:ring-1"
                  :class="validation.firstname.invalid ? 'border-red focus:border-red focus:ring-red' : 'border-gray focus:border-green focus:ring-green'"
                  required
              >
              <span
                  class="text-red"
                  x-show="validation.firstname.invalid"
                  x-text="validation.firstname.message"
              ></span>
          </label>

          <label class="grid content-start gap-2">
              <span class=" after:content-['*'] after:ml-2 after:text-green">Last Name</span>
              <input
                  x-model="lastname"
                  x-on:input="validate('lastname')"
                  x-on:blur="validate('lastname')"
                  type="text"
                  class="border rounded-md bg-white px-6 py-2.5 text-lg cursor-pointer hover:border-green focus:outline-none focus:border-green focus:ring-1"
                  :class="validation.lastname.invalid ? 'border-red focus:border-red focus:ring-red' : 'border-gray focus:border-green focus:ring-green'"
                  required
              >
              <span
                  class="text-red"
                  x-show="validation.lastname.invalid"
                  x-text="validation.lastname.message"
              ></span>
          </label>

          <label class="grid gap-2 md:col-span-2">
              <span class=" after:content-['*'] after:ml-2 after:text-green">Email Address</span>
              <input
                  x-model="email"
                  x-on:input="validate('email')"
                  x-on:blur="validate('email')"
                  type="text"
                  class="border rounded-md bg-white px-6 py-2.5 text-lg cursor-pointer hover:border-green focus:outline-none focus:border-green focus:ring-1"
                  :class="validation.email.invalid ? 'border-red focus:border-red focus:ring-red' : 'border-gray focus:border-green focus:ring-green'"
                  required
              >
              <span
                  class="text-red"
                  x-show="validation.email.invalid"
                  x-text="validation.email.message"
              ></span>
          </label>

          <fieldset
                  class="grid gap-4 md:grid-cols-2 md:col-span-2"
          >
              <legend class="pb-4 after:content-['*'] after:ml-2 after:text-green">Query Type</legend>
              <label class="relative flex items-center gap-4 border border-gray rounded-md bg-white px-6 py-2.5 cursor-pointer hover:border-green focus-within:border-green focus-within:ring-1 focus-within:ring-green transition">
                  <input
                      x-model="selectedQueryType"
                      x-on:blur="validate('selectedQueryType')"
                      value="General Enquiry"
                      class="peer relative appearance-none shrink-0 w-5 h-5 border-2 border-gray/40 rounded-full bg-white focus:outline-none focus:border-green focus:bg-green-light checked:bg-green-light checked:border-0 transition"
                      name="queryType"
                      checked="selectedQueryType = 'General Enquiry'"
                      type="radio"
                  >
                  <span class="absolute inset-0 rounded-md pointer-events-none opacity-0 peer-checked:opacity-100 peer-checked:bg-green-light transition"></span>
                  <img class="absolute pointer-events-none opacity-0 text-green peer-checked:opacity-100 outline-none" src="./assets/images/icon-radio-selected.svg" alt="">
                  <span class="relative text-lg">General Enquiry</span>
              </label>
              <label class="relative flex items-center gap-4 border border-gray rounded-md bg-white px-6 py-2.5 cursor-pointer hover:border-green focus-within:border-green focus-within:ring-1 focus-within:ring-green transition">
                  <input
                      x-model="selectedQueryType"
                      x-on:blur="validate('selectedQueryType')"
                      value="Support Request"
                      class="peer relative appearance-none shrink-0 w-5 h-5 border-2 border-gray/40 rounded-full bg-white focus:outline-none focus:border-green focus:bg-green-light checked:bg-green-light checked:border-0 transition"
                      name="queryType"
                      checked="selectedQueryType = 'Support Request'"
                      type="radio"
                  >
                  <span class="absolute inset-0 rounded-md pointer-events-none opacity-0 peer-checked:opacity-100 peer-checked:bg-green-light transition"></span>
                  <img class="absolute pointer-events-none opacity-0 text-green peer-checked:opacity-100 outline-none" src="./assets/images/icon-radio-selected.svg" alt="">
                  <span class="relative text-lg">Support Request</span>
              </label>
              <span
                  class="text-red"
                  x-show="validation.selectedQueryType.invalid"
                  x-text="validation.selectedQueryType.message"
              ></span>
          </fieldset>

          <label class="grid gap-2 md:col-span-2">
              <span class=" after:content-['*'] after:ml-2 after:text-green">Message</span>
              <textarea
                  x-model="message"
                  x-on:input="validate('message')"
                  x-on:blur="validate('message')"
                  class="border border-gray rounded-md bg-white h-[240px] py-2.5 px-6 text-lg hover:border-green focus:outline-none focus:border-green focus:ring-1 md:h-[105px]"
                  :class="validation.message.invalid ? 'border-red focus:border-red focus:ring-red' : 'border-gray focus:border-green focus:ring-green'"
                  required
              ></textarea>
              <span
                  class="text-red"
                  x-show="validation.message.invalid"
                  x-text="validation.message.message"
              ></span>
          </label>

          <div class="py-3.5 pl-0.5 md:col-span-2">
              <label class="flex items-center gap-4 cursor-pointer">
                  <input
                      x-model="consent"
                      x-on:blur="validate('consent')"
                      type="checkbox"
                      class="peer relative appearance-none shrink-0 w-[18px] h-[18px] border-2 border-gray/80 rounded-sm bg-white focus:outline-none focus:border-green checked:border-transparent transition"
                      required
                  >
                  <img class="absolute pointer-events-none opacity-0 text-green peer-checked:opacity-100 outline-none transition" src="./assets/images/icon-checkbox-check.svg" alt="">
                  <span class="pl-1 after:content-['*'] after:ml-1 after:text-green"> I consent to being contacted by the team</span>
              </label>
              <span
                  class="text-red"
                  x-show="validation.consent.message"
                  x-text="validation.consent.message"
              ></span>
          </div>

          <button
              x-on:click="submit()"
              type="button"
              class="bg-green rounded-md p-4 text-white font-bold text-lg md:col-span-2 hover:bg-green-dark focus:outline-green-dark transition"
          >
              Submit
          </button>
      </form>

      <section
          x-show="successMessage"
          class="fixed inset-x-0 top-4 md:top-8"
          style="display: none !important"
          x-transition
      >
          <div class="mx-8 sm:mx-auto sm:max-w-sm md:max-w-[400px] rounded-lg p-6 bg-green-dark text-white">
              <div class="inline-flex items-center gap-2">
                  <img src="./assets/images/icon-success-check.svg" alt="">
                  <h2 class="font-bold">Message Sent!</h2>
              </div>
              <p class="text-sm">Thanks for completing the form. We'll be in touch soon!</p>
          </div>
      </section>
  </main>
  <footer>
    <div class="fixed bottom-0 inset-x-0 bg-white/90 border-t border-green-light opacity-0 translate-y-2 py-2 text-xs text-gray-dark text-center hover:opacity-90 hover:translate-y-0 transition ease-out duration-300">
      Challenge by <a class="text-gray-dark hover:text-green hover:underline ease-in-out duration-150" href="https://www.frontendmentor.io/challenges/contact-form--G-hYlqKJj" target="_blank">Frontend Mentor</a>.
      Coded by <a class="text-gray-dark hover:text-green hover:underline ease-in-out duration-150" href="https://www.frontendmentor.io/profile/wendyhamel" target="_blank">Wendy Hamel</a>.
    </div>
  </footer>
  <script src="./src/validation.js"></script>
</body>
</html>